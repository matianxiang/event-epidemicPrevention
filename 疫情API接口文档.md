# 疫情项目API接口文档(学习交流使用,写的不好勿怪)

## 1.1. API  接口说明(后期补充)

- 接口基准地址：`http://localhost:3000`
- 数据返回格式统一使用 JSON ( 如有其他格式将在接口文档声明 )

### 1.1.1. 支持的请求方法

- POST
- GET

### 1.1.2. 通用返回状态说明

| *状态码* | *含义*                | *说明*                                                       |
| -------- | --------------------- | ------------------------------------------------------------ |
| 200      | OK                    | 请求成功                                                     |
| 404      | NOT FOUND             | 请求的资源不存在                                             |
| 500      | INTERNAL SERVER ERROR | 内部服务端错误<br />(如:传入的参数或者文件格式错误<br />其他错误等) |
| 403      | FORBIDDEN             | 被禁止访问                                                   |
| 401      | UNAUTHORIZED          | 未授权<br />(登录状态过期或未登录时返回)                     |

## 1.2. 数据库 设计 

>数据库名 : vue_store
>
>数据库账号 : root
>
>数据库密码 : root
>
>数据库 :utf8  排序规则 :utf8_unicode_ci

### 1.2.1.用户表

| *字段名*         | *含义*                            | 数据类型   | *说明*          |
| ---------------- | --------------------------------- | ---------- | --------------- |
| id               | 用户id(学号或者教师号)            | int        | 必填            |
| <u>*token*</u>   | 加密后的数据                      | varchar    | (可不使用)      |
| username         | 用户                              | varchar    | 必填            |
| password         | 密码                              | varchar    | 必填            |
| *<u>head</u>*    | 头像缩略图                        | mediumtext | (可不使用)      |
| *<u>mailbox</u>* | 邮箱                              | varchar    | (可不使用)      |
| address          | 地址籍贯                          | varchar    | 可不填          |
| sex              | 性别                              | varchar    | 必填            |
| createtime       | 用户创建时间                      | datetime   | 可不填 后端传入 |
| modifytime       | 最近一次修改时间                  | datetime   | 可不填 后端传入 |
| classes          | 所属班级(教师也要,可以填多个班级) | varchar    | 必填            |
| type             | 类型(1管理员 2学生  3教师)        | int        | 必填            |



### 1.2.2.健康填报表

| *字段名*      | *含义*                 | 数据类型 | *说明*    (是  否)                   |
| ------------- | ---------------------- | -------- | ------------------------------------ |
| h_id          | 健康表id               | int      | 自动增加 唯一                        |
| u_id          | 用户id                 | int      | 必填 不唯一 一个用户可以填多个健康表 |
| temperature   | 当前体温               | float    | 必填(小数点位数1位)                  |
| hot           | 是否发热               | varchar  | 必填                                 |
| to_highrisk   | 是否去过高风险地区     | varchar  | 必填                                 |
| from_highrisk | 是否是从高风险地区来   | varchar  | 必填                                 |
| fever         | 是否有去就诊           | varchar  | 必填                                 |
| leaveout      | 是否离开学校           | varchar  | 必填                                 |
| hesuan        | 是否经过核酸检测       | varchar  | 必填                                 |
| contact_risk  | 是否接触过高风险地区人 | varchar  | 必填                                 |
| mask_rest     | 口罩剩余数量           | int      | 必填                                 |
| kills         | 杀毒用品是否充足       | varchar  | 必填                                 |
| createtime    | 健康表创建时间         | datetime | CURRENT_TIMESTAMP                    |



### 1.2.3 请假表

| *字段名*   | *含义*                                                       | 数据类型 | *说明*                                                       |
| ---------- | ------------------------------------------------------------ | -------- | ------------------------------------------------------------ |
| l_id       | 请假表id                                                     | int      | 自动增加 唯一                                                |
| u_id       | 请假人的id                                                   | int      | 必填  不唯一 一个用户可以提交多个请假表                      |
| reason     | 请假理由                                                     | varchar  | 必填                                                         |
| leavetype  | 请假类型(外出 or 病假)                                       | varchar  | 必填                                                         |
| starttime  | 请假开始时间                                                 | date     | 必填 (格式 : 2020-08-25)                                     |
| endtime    | 请假结束时间                                                 | date     | 必填 (格式 : 2020-08-26)                                     |
| state      | 审批状态( 0未审批    or     1审批不通过      or   2审批通过 ) | int      | 必填                                                         |
| createtime | 创建时间                                                     | datetime | CURRENT_TIMESTAMP                                            |
| classes    | 所在的班级                                                   | varchar  | 必填  注意：一个老师的班级可以有多个 用;隔开 但请假表中的班级一条请假表只能有一个 |

### 1.2.4公告表

| *字段名*         | *含义*               | 数据类型   | *说明*                      |
| ---------------- | -------------------- | ---------- | --------------------------- |
| n_id             | 公告id               | int        | 自动增加                    |
| title            | 公告标题             | mediumtext | 必填                        |
| <u>*content*</u> | 公告内容             | mediumtext | (可不使用)                  |
| createtime       | 创建时间             | datetime   | 必填                        |
| class            | 通知的班级集合字符串 | varchar    | 必填 (可以填多个,以 ; 分隔) |



### 1.2.5阅读表

| *字段名* | *含义*         | 数据类型 | *说明*   |
| -------- | -------------- | -------- | -------- |
| r_id     | 阅读表id       | int      | 自动增加 |
| u_id     | 阅读人id       | int      | 必填     |
| n_id     | 被阅读的公告id | int      | 必填     |
| readtime | 阅读时间       | datetime | 自动生成 |

### 1.2.6 班级表	

| *字段名* | *含义* | 数据类型 | *说明*   |
| -------- | ------ | -------- | -------- |
| c_id     | 班级id | int      | 自动增加 |
| classes  | 班级名 | varchar  | 必填     |

## 1.3. 共有部分

### 1.3.1. 登录验证接口

##### 1.3.1.1 登录验证接口 (示例中使用==>后期后台完善可以换成id登录)

- 请求路径：/users/login
- 请求方法：post
- 请求参数

| 参数名   | 参数说明 | 数据类型 | 备注                   |
| -------- | -------- | -------- | ---------------------- |
| username | 用户名   | string   | 不能为空               |
| password | 密码     | string   | 不能为空               |
| type     | 用户类型 | int      | (1管理员 2学生 3教师 ) |

- 响应参数(如果无此用户将无数据-返回用户名或者账号输入错误)

| 参数名    | 参数说明       | 数据类型 | 备注           |
| --------- | -------------- | -------- | -------------- |
| loginData | 用户数据       | json数组 |                |
| jwt_token | 加密的权限信息 | string   | jwt加密的token |

### 1.3.2. 个人信息管理  

#### 1.3.2.1.个人信息获取

##### 1.3.2.1.1.根据token进行个人信息获取(直接解析token获取自己信息)

- 请求路径：/users/getUserDataByToken
- 请求方法：get
- 请求参数

| 参数名 | 参数说明    | 数据类型 | 备注 |
| ------ | ----------- | -------- | ---- |
| token  | 加密的token | jwt      |      |

- 响应参数(如果无此用户将无数据) 

| 参数名     | 参数说明           | 数据类型   | 备注                          |
| ---------- | ------------------ | ---------- | ----------------------------- |
| id         | 用户 ID            | int        | (必有)                        |
| username   | 用户名             | string     | (必有)                        |
| head       | 用户头像           | mediumtext | (必有)                        |
| classes    | 所属班级           | string     |                               |
| sex        | 性别               | string     |                               |
| address    | 地址籍贯或者生源地 | string     |                               |
| createtime | 入网时间           | date       |                               |
| modifytime | 最近一次修改时间   | datetime   | CURRENT_TIMESTAMP             |
| type       | 身份类型           | int        | (1管理员 2学生 3教师 ) (必有) |

#### 1.3.2.2. 用户头像修改

- 请求路径：/users/upicon
- 请求方法：post
- 请求参数

| 参数名 | 参数说明       | 数据类型 | 备注(都是必传) |
| ------ | -------------- | -------- | -------------- |
| token  | 加密的用户信息 | jwt      | (使用其中的id  |

- 响应参数

| 参数名  | 参数说明     | 数据类型 | 备注     |
| ------- | ------------ | -------- | -------- |
| results | 成功或者失败 | varchar  | 上传结果 |

#### 1.3.2.3. 个人密码修改

- 请求路径：/users/upPwd
- 请求方法：post
- 请求参数

| 参数名      | 参数说明       | 数据类型 | 备注             |
| ----------- | -------------- | -------- | ---------------- |
| token       | 加密的用户信息 | jwt      | (使用其中的u_id) |
| oldpassword | 旧密码         | string   |                  |
| newpassword | 新密码         | string   | (密码长度6-16)   |

- 响应参数

| 参数名  | 参数说明     | 数据类型 | 备注 |
| ------- | ------------ | -------- | ---- |
| results | 成功或者失败 | string   |      |

### 1.3.3.  发布通知

- 请求路径：/admin/announce
- 请求方法：post
- 请求参数

| 参数名  | 参数说明   | 数据类型 | 备注                           |
| ------- | ---------- | -------- | ------------------------------ |
| title   | 标题       | text     |                                |
| classes | 班级字符串 | string   | 多个班级以;分隔  (3班;5班;1班) |

- 响应参数

| 参数名  | 参数说明     | 数据类型 | 备注 |
| ------- | ------------ | -------- | ---- |
| results | 成功或者失败 | string   |      |

### 1.3.4 获取所有通知与数量(分页获取)

- 请求路径：/admin/getAllNotice
- 请求方法：get
- 请求参数

| 参数名   | 参数说明     | 数据类型 | 备注 |
| -------- | ------------ | -------- | ---- |
| pageNum  | 每页几条数据 | int      |      |
| currPage | 当前页面     | int      |      |

- 响应参数

| 参数名 | 参数说明       | 数据类型 | 备注                   |
| ------ | -------------- | -------- | ---------------------- |
| data   | 当前页用户数据 | json     | (根据发布时间倒叙获取) |
| total  | 用户总页数     | int      |                        |



## 1.4. 管理员页面

### 1.4.1. 进行用户信息与数量获取

##### 1.4.1.1 根据用户类型进行用户信息获取(分页获取总数量与数据)

> 管理员用户管理部分可进行两次查询,一次教师获取一次学生获取  可以做到教师管理与学生管理分开

- 请求路径：/users/getUsersByTypePage
- 请求方法：get
- 请求参数

| 参数名   | 参数说明                    | 数据类型 | 备注 |
| -------- | --------------------------- | -------- | ---- |
| type     | 用户类型(1管理员2学生3教师) | int      |      |
| pageNum  | 每页几条数据                | int      |      |
| currPage | 当前页面                    | int      |      |

- 响应参数(若无此类型用户   无返回)

| 参数名 | 参数说明       | 数据类型 | 备注                     |
| ------ | -------------- | -------- | ------------------------ |
| data   | 当前页用户数据 | json数组 | 根据最近一次修改时间排序 |
| total  | 用户总页数     | int      |                          |

##### 1.4.1.2. 根据用户类型与查询字段模糊查询 (数据与总数量返回)

- 请求路径：/admin/getUsersByTypeAndChar
- 请求方法：get
- 请求参数

| 参数名    | 参数说明                                                     | 数据类型 | 备注 |
| --------- | ------------------------------------------------------------ | -------- | ---- |
| type      | 用户类型(1管理员2学生3教师)                                  | int      |      |
| inputText | 输入的内容                                                   | string   |      |
| CharType  | 查询的字段(籍贯: address      用户名: username     <br />学号: id  班级:  classes  ) | string   |      |
| pageNum   | 每页几条数据                                                 | int      |      |
| currPage  | 当前页面                                                     | int      |      |

- 响应参数(若无此类型用户  无返回)

| 参数名 | 参数说明       | 数据类型 | 备注                     |
| ------ | -------------- | -------- | ------------------------ |
| data   | 当前页用户数据 | json数组 | 根据最近一次修改时间排序 |
| total  | 用户总页数     | int      |                          |

### 1.4.2. 用户文件导入

- 请求路径：/upload/upload
- 请求方式 : form表单提交

```html
<form action="/upload/upload" enctype="multipart/form-data" method="post">
    <input type="text" name="title"><br>
    <input type="file" name="upload" multiple="multiple"><br>
    <input type="submit" value="Upload">
    </form>
```

- ###### 响应参数

| 参数名  | 参数说明     | 数据类型 | 备注 |
| ------- | ------------ | -------- | ---- |
| results | 成功或者失败 | string   |      |

- ###### 此处为锻炼redis使用我将使用redis数据库(可自行换成其他文件上传方式)

### 1.4.3. 用户增删改

#### 1.4.3.1. 用户增加 -需要导入用户文件文件后再调用以写入数据库

> 如果id重复就进行更新,不重复插入

- 请求路径：/users/setXlsxData
- 请求方法：post
- 请求参数   无参直接调用

- 响应参数

| 参数名  | 参数说明                                                     | 数据类型 | 备注 |
| ------- | ------------------------------------------------------------ | -------- | ---- |
| results | 通过redis数据库内缓存的xlsx数据<br />读取写入数据库,若无返回未导入文件<br />缓存数据存在3600秒 | string   |      |

#### 1.4.3.2. 用户删除(同时清空该用户阅读记录)

> 默认u_id==0为管理员 不能删除

- 请求路径：/users/delUserdata
- 请求方法：get
- 请求参数

| 参数名 | 参数说明 | 数据类型 | 备注               |
| ------ | -------- | -------- | ------------------ |
| u_id   | 用户id   | int      | (点击的当前用户id) |

- 响应参数

| 参数名  | 参数说明     | 数据类型 | 备注     |
| ------- | ------------ | -------- | -------- |
| results | 成功或者失败 | string   | 删除结果 |



#### 1.4.3.3. 用户信息修改

- 请求路径：/users/upUserdata
- 请求方法：post
- 请求参数

| 参数名   | 参数说明       | 数据类型 | 备注(都是必传)              |
| -------- | -------------- | -------- | --------------------------- |
| u_id     | 用户id         | int      | (点击的当前用户id)          |
| username | 用户名         | string   |                             |
| sex      | 性别           | string   |                             |
| address  | 籍贯地址生源地 | string   |                             |
| type     | 修改用户类型   | int      | 类型(1管理员 2学生 3教师  ) |

- 响应参数

| 参数名  | 参数说明     | 数据类型 | 备注     |
| ------- | ------------ | -------- | -------- |
| results | 成功或者失败 | string   | 修改结果 |



## 1.5. 学生管理页面

### 1.4.1.健康上报

#### 1.4.1.1. 个人信息获取(见共有部分)

#### 1.4.1.2. 健康填报表

> 前端先获取该用户当天填报表,如果没有才可以填写

- 请求路径：/students/sethealth
- 请求方法：post
- 请求参数

| *参数*        | *含义*                   | 数据类型   | *说明*    (是  否)                |
| ------------- | ------------------------ | ---------- | --------------------------------- |
| h_id          | 健康表id                 | int        | (自动生成不用填写)                |
| u_id          | 用户id                   | int        | 必填(通过传token给后台解析)       |
| temperature   | 当前体温                 | float      | 必填                              |
| hot           | 是否发热                 | string     | 必填                              |
| to_highrisk   | 是否去过高风险地区       | string     | 必填                              |
| from_highrisk | 是否来自高风险地区       | string     | 必填                              |
| fever         | 是否就诊                 | string     | 必填                              |
| leaveout      | 是否离开学校             | string     | 必填                              |
| hesuan        | 是否经过核酸检测         | string     | 必填                              |
| contact_risk  | 是否接触过高风险地区人员 | string     | 必填                              |
| mask_rest     | 口罩剩余数量             | int        | 必填                              |
| kills         | 杀毒用品是否充足         | string     | 必填                              |
| createtime    | 健康表创建时间           | createtime | CURRENT_TIMESTAMP<br />(自动生成) |

- 响应参数

| 参数名 | 参数说明     | 数据类型 | 备注 |
| ------ | ------------ | -------- | ---- |
| data   | 成功或者失败 | string   |      |

#### 1.4.1.3 分页获取当天填报表与总数量

> 获取的是

- 请求路径：/students/gethealthNowDayPage
- 请求方法：get
- 请求参数 

| 参数名   | 参数说明     | 数据类型 | 备注 |
| -------- | ------------ | -------- | ---- |
| pageNum  | 每页几条数据 | int      |      |
| currPage | 当前页面     | int      |      |

- 响应参数

| 参数名 | 参数说明       | 数据类型 | 备注 |
| ------ | -------------- | -------- | ---- |
| data   | 当前页用户数据 | json     |      |
| total  | 用户总页数     | int      |      |

#### 1.4.1.4. 获取当天某用户报表

- 请求路径：/students/getHealthNowDayByid
- 请求方法：get
- 请求参数 

| 参数名 | 参数说明         | 数据类型 | 备注                 |
| ------ | ---------------- | -------- | -------------------- |
| token  | 加密后的用户信息 | jwt      | 必填(使用其中的u_id) |

- 响应参数

| 参数名 | 参数说明       | 数据类型 | 备注 |
| ------ | -------------- | -------- | ---- |
| data   | 当前页用户数据 | json     |      |

#### 1.4.1.5.获取当天所有填报表

> 获取的是

- 请求路径：/students/gethealthNowDay
- 请求方法：get
- 请求参数 -无参数

- 响应参数

| 参数名 | 参数说明         | 数据类型 | 备注 |
| ------ | ---------------- | -------- | ---- |
| data   | 当天所有报表信息 | json数组 |      |

#### 1.4.1.7 获取当月报表

- 请求路径：/students/gethealthNowMonth
- 请求方法：get
- 请求参数 -无参数

- 响应参数

| 参数名 | 参数说明     | 数据类型 | 备注 |
| ------ | ------------ | -------- | ---- |
| data   | 所有报表信息 | json数组 |      |

#### 1.4.1.7 获取所有报表

- 请求路径：/students/getAllHealth
- 请求方法：get
- 请求参数 -无参数

- 响应参数

| 参数名 | 参数说明     | 数据类型 | 备注 |
| ------ | ------------ | -------- | ---- |
| data   | 所有报表信息 | json数组 |      |

### 1.4.2.  请假申请

- 请求路径：/students/setLeave
- 请求方法：post
- 请求参数

| 参数名    | 参数说明       | 数据类型 | 备注                         |
| --------- | -------------- | -------- | ---------------------------- |
| token     | 加密的用户信息 | jwt      | 必填(使用其中的u_id,classes) |
| reason    | 请假理由       | string   | 必填                         |
| leavetype | 请假类型       | string   | 必填(病假或者外出)           |
| starttime | 开始时间       | date     | 必填 (格式 : 2020-08-25)     |
| endtime   | 结束时间       | date     | 必填 (格式 : 2020-08-25)     |

- 响应参数

| 参数名  | 参数说明         | 数据类型 | 备注     |
| ------- | ---------------- | -------- | -------- |
| results | 提交成功或者失败 | string   | 提交结果 |



### 1.4.3. 我的通知

#### 1.4.3.1. 我的通知分页获取数据与数量

- 请求路径：/students/getNotice
- 请求方法：get
- 请求参数

| 参数名   | 参数说明       | 数据类型 | 备注              |
| -------- | -------------- | -------- | ----------------- |
| token    | 加密的用户数据 | jwt      | 必填(使用classes) |
| pageNum  | 每页几条数据   | int      |                   |
| currPage | 当前页面       | int      |                   |

- 响应参数


| 参数名 | 参数说明   | 数据类型 | 备注 |
| ------ | ---------- | -------- | ---- |
| data   | 当前页数据 | json     |      |
| total  | 通知的总数 | int      |      |

#### 1.4.3.2. 我的通知修改(已读未读)

##### 1.4.3.2.1 获取的我通知已读列表(供已读未读状态渲染)

- 请求路径：/students/getNoticeRead
- 请求方法：get
- 请求参数

| 参数名 | 参数说明       | 数据类型 | 备注             |
| ------ | -------------- | -------- | ---------------- |
| token  | 加密的用户信息 | jwt      | 必传(使用其中id) |

- ###### 响应参数

| 参数名       | 参数说明                   | 数据类型 | 备注 |
| ------------ | -------------------------- | -------- | ---- |
| `data`       | 包含下面几个参数的对象集合 | json     |      |
| n_id         | 公告id                     | int      |      |
| **u_id**     | 用户id                     | int      |      |
| **readtime** | 阅读时间                   | datetime |      |

##### 1.4.3.2.2 已读转未读

- 请求路径：/students/goweidu
- 请求方法：get
- 请求参数

| 参数名 | 参数说明       | 数据类型 | 备注                       |
| ------ | -------------- | -------- | -------------------------- |
| n_id   | 公告id         | int      | (点击的当前公告id)         |
| token  | 加密的用户信息 | jwt      | 当前登录用户(使用其中u_id) |

- 响应参数

| 参数名  | 参数说明     | 数据类型 | 备注     |
| ------- | ------------ | -------- | -------- |
| results | 成功或者失败 | string   | 删除结果 |

##### 1.4.3.2.3 未读转已读

- 请求路径：/students/goyidu
- 请求方法：get
- 请求参数

| 参数名 | 参数说明       | 数据类型 | 备注                       |
| ------ | -------------- | -------- | -------------------------- |
| n_id   | 公告id         | int      | (点击的当前公告id)         |
| token  | 加密的用户信息 | jwt      | 当前登录用户(使用其中u_id) |

- 响应参数

| 参数名  | 参数说明     | 数据类型 | 备注     |
| ------- | ------------ | -------- | -------- |
| results | 成功或者失败 | string   | 修改结果 |

## 1.6. 教师管理

### 1.6.1.请假审批

#### 1.6.1.1. 获取该老师所属班级的全部请假单与数量(分页查询)

- 请求路径：/admin/getLeave  注意：老师的班级可以有多个 用;隔开 但请假表中的班级一条请假表只能有一个
- 请求方法：get
- 请求参数

| 参数名   | 参数说明       | 数据类型 | 备注 |
| -------- | -------------- | -------- | ---- |
| token    | 加密的用户信息 | jwt      |      |
| currPage | 当前页数       | int      |      |
| pageNum  | 每页数量       | int      |      |

- 响应参数

| 参数名 | 参数说明       | 数据类型 | 备注                   |
| ------ | -------------- | -------- | ---------------------- |
| data   | 当前页用户数据 | json     | (根据申请时间进行排序) |
| total  | 用户总页数     | int      |                        |



#### 1.6.1.. 获取该用户请假审批与数量(分页)

- 请求路径：/admin/getuserLeave
- 请求方法：get
- 请求参数

| 参数名   | 参数说明       | 数据类型 | 备注 |
| -------- | -------------- | -------- | ---- |
| token    | 加密的用户数据 | jwt      |      |
| currPage | 当前页数       | int      |      |
| pageNum  | 每页数量       | int      |      |

- 响应参数

| 参数名 | 参数说明       | 数据类型 | 备注 |
| ------ | -------------- | -------- | ---- |
| data   | 当前页用户数据 | json     |      |
| total  | 用户总页数     | int      |      |

#### 1.6.1.3. 当前请假单审批(修改审批状态)

- 请求路径：/admin/upLeaveState
- 请求方法：get
- 请求参数

| 参数名  | 参数说明     | 数据类型 | 备注                                                  |
| ------- | ------------ | -------- | ----------------------------------------------------- |
| l_id    | 请假条id     | int      | 当前点击审批的请假条                                  |
| upState | 修改审批状态 | int      | ( 0未审批    or     1审批不通过      or   2审批通过 ) |

- 响应参数

| 参数名  | 参数说明     | 数据类型 | 备注     |
| ------- | ------------ | -------- | -------- |
| results | 成功或者失败 | string   | 修改结果 |

## 1.7. 增值功能

### 1.7.1. 当前公告查看详情

> 查询两张表

- 请求路径：/admin/NoticeDetails
- 请求方法：get
- 请求参数

| 参数名 | 参数说明 | 数据类型 | 备注           |
| ------ | -------- | -------- | -------------- |
| n_id   | 公告id   | int      | 当前点击公告id |

- 响应参数

| 参数名  | 参数说明                                | 数据类型 | 备注 |
| ------- | --------------------------------------- | -------- | ---- |
| readNum | 当前公告已读人数                        | int      |      |
| tatol   | 当前公告发布通知总人数                  | int      |      |
| data    | 公告详情内容                            | json     |      |
| users   | 阅读的用户头像,名字以及班级以及阅读时间 | json数组 |      |

### 1.7.2.当前 公告删除功能(同时清空该公告的被阅读记录 删除两张表中的数据)

> 删除两张表

- 请求路径：/admin/delNotice
- 请求方法：get
- 请求参数

| 参数名 | 参数说明 | 数据类型 | 备注           |
| ------ | -------- | -------- | -------------- |
| n_id   | 公告id   | int      | 当前点击公告id |

- 响应参数

| 参数名 | 参数说明 | 数据类型 | 备注 |
| ------ | -------- | -------- | ---- |
| result | 删除结果 | string   |      |

### 1.7.3. 添加班级或者专业

- 请求路径：/admin/addClasses
- 请求方法：get
- 请求参数

| 参数名  | 参数说明           | 数据类型 | 备注                             |
| ------- | ------------------ | -------- | -------------------------------- |
| classes | 添加的班级或者专业 | string   | (不可以带 ; )(专业名长度不超过6) |

- 响应参数

| 参数名  | 参数说明 | 数据类型 | 备注 |
| ------- | -------- | -------- | ---- |
| results | 删除结果 | string   |      |

### 1.7.4. 获取班级或者专业

- 请求路径：/admin/getClasses
- 请求方法：get
- 请求参数

- 响应参数

| 参数名 | 参数说明       | 数据类型 | 备注 |
| ------ | -------------- | -------- | ---- |
| data   | 获取的班级数组 | json数组 |      |

### 1.7.5 模糊查询班级(分页获取数据与数量)

- 请求路径：/admin/getClassesSear
- 请求方法：get
- 请求参数

| 参数名    | 参数说明     | 数据类型 | 备注 |
| --------- | ------------ | -------- | ---- |
| inputText | 输入的内容   | string   |      |
| pageNum   | 每页几条数据 | int      |      |
| currPage  | 当前页面     | int      |      |

- 响应参数(若无此类型用户返回  无返回)

| 参数名 | 参数说明       | 数据类型 | 备注 |
| ------ | -------------- | -------- | ---- |
| data   | 当前页用户数据 | json     |      |
| total  | 用户总页数     | int      |      |

## 1.8. 细节调整

### 1.8.1. 登录接口id验证

### 1.8.2. 拦截器

- 需要放行的接口

  | 接口名                      | 接口说明           | 备注 |
  | --------------------------- | ------------------ | ---- |
  | /users/login                | 登录接口           |      |
  | /students/gethealthNowDay   | 获取当天健康表信息 |      |
  | /students/gethealthNowMonth | 获取当月健康表     |      |
  | /upload                     | 上传文件           |      |
  | /users/setXlsxData          | 导入数据           |      |
  | /users/getUsersByTypePage   | 获取用户(首页使用) |      |